:root {
  --card-w: 53.98mm; /* CR80 portrait */
  --card-h: 85.6mm;
  --font-ui: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

@font-face {
  font-family: "Garet";
  src: url("../fonts/garet.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

.idc-app { display:grid; grid-template-columns: 420px 1fr; gap:24px; align-items:start; }
.idc-form { background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 14px rgba(0,0,0,.06); }
.idc-form h2 { margin:0 0 12px; font-family:var(--font-ui); }
.idc-grid { display:grid; gap:10px; }
.idc-grid label { font-size:13px; color:#222; font-family:var(--font-ui); }
.idc-grid input[type="text"], .idc-grid input[type="file"] {
  width:100%; padding:10px 12px; border:1px solid #e3e3e7; border-radius:10px; background:#fafafa; outline:none;
}
.idc-grid input[type="text"]:focus { border-color:#8ac43c; background:#fff; box-shadow:0 0 0 4px rgba(138,196,60,.18); }
.idc-actions { margin-top:10px; display:flex; gap:8px; align-items:center; }
.idc-btn { background:#111; color:#fff; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; }
.idc-btn:hover { background:#222; }

.idc-preview { display:flex; flex-direction:column; gap:16px; }
.idc-card {
  position:relative; width:var(--card-w); height:var(--card-h);
  background:#fff; box-shadow:0 2px 12px rgba(0,0,0,.08); overflow:hidden;
}

/* CHANGED: exact fit (no crop) */
.idc-bg {
  position:absolute; inset:0;
  background-image: var(--bg);
  background-position: center center;
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

.idc-layer { position:absolute; inset:0; }

/* Utilities */
.idc-centerX { left:50%; transform:translateX(-50%); position:absolute; }

/* Typography */
.idc-field { position:absolute; font-family:"Garet", var(--font-ui); color:#1a1f1c; white-space:nowrap; }
.idc-details, .idc-row, .idc-row .label, .idc-row .value { font-family:"Garet", var(--font-ui); }

/* Base sizes:
   Details = ~3.0mm ; Name = details + ~4px -> ≈ 4.1mm ; Subtitle smaller & muted */
.idc-name     { font-weight:700; font-size:4.1mm; line-height:1.1; text-align:center; }
.idc-subtitle { font-weight:500; font-size:2.6mm; color:#6a7670; line-height:1.1; text-align:center; }

/* Photo (size positioned via JS in mm) */
.idc-photo-wrap { border-radius:50%; overflow:hidden; }
.idc-photo-wrap img { width:100%; height:100%; object-fit:cover; display:block; }

/* QR size is set by JS; wrapper stays centered */
.idc-qr-wrap { }

/* Details block under QR: two-column grid, tidy spacing */
.idc-details {
  position:absolute;
  width:44mm; /* JS can override */
  display:grid;
  gap:2.4mm;
}
.idc-row {
  display:grid;
  grid-template-columns: 1fr 1.5fr;
  align-items:center;
  column-gap:2mm;
  font-size:3.0mm; line-height:1.2; color:#1a1f1c;
}
.idc-row .label  { text-align:right; color:#5d6762; }
.idc-row .value  { text-align:left; font-weight:600; letter-spacing:.02em; }

/* Overlay guides */
body.idc-overlay-on .idc-centerX,
body.idc-overlay-on .idc-field,
body.idc-overlay-on .idc-details { outline:1px dashed rgba(255,0,0,.5); }


/* Print: exactly two pages */
/*
@media print {
  html, body { margin:0 !important; padding:0 !important; }
  @page { size: 53.98mm 85.6mm; margin:0; }
  .idc-app { display:block; }
  .idc-form { display:none !important; }
  .idc-card { box-shadow:none; page-break-after:always; }
  .idc-card[data-page="2"] { page-break-after:auto; }
  * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}
*/

/* === RIGHT SIDE: Your requested card layout === */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

.idc-preview { display:flex; flex-direction:column; gap:16px; align-items:center; }

.sheet { page-break-after: always; }
.id-card {
  width: 340px;
  height: 540px;
  background-size: 100% 100%;      /* exact fit, no crop */
  background-position: center;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  font-family: 'Poppins', sans-serif; /* requested font on card */
}
.id-card.front { background-image: var(--bg); }
.id-card.back  { background-image: var(--bg); }

/* FRONT CONTENT – add a touch more bottom pad so preview isn't too airy,
   but leaves a safe zone on print as well */
.front-content {
  position: absolute; inset: 0;
  padding: 10px 18px 20px;   /* was 8px 18px 18px */
  text-align: center;
  display: flex; flex-direction: column; align-items: center;
  box-sizing: border-box;    /* ensure padding is included in height */
}


/* Photo: thinner ring + a touch larger */
.photo {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  overflow: hidden;
  border: 1.5px solid #22c55e;
  margin-top: 12px;
  box-sizing: border-box;  /* border doesn't increase outer size */
}

.photo img { width: 100%; height: 100%; object-fit: cover; }

/* Name: a bit bigger */
.name  {
  font-weight: 700;
  font-size: 28px;               /* was 20px */
  margin-top: 12px;
  color: #111827;
}

/* SSNYU line: slightly larger */
.title {
  font-size: 13px;               /* was 12px */
  color: #4b5563;
  margin-bottom: 10px;
}

/* CHANGED: smaller QR so overall stack uses ~65–70% height */
.qr {
  margin: 4px 0;                     /* was 6px 0 (or 10px earlier) */
  width: 54px;                       /* was 60px */
  height: 54px;
}
#w_qr canvas,
#w_qr img {
  width: 100% !important;
  height: 100% !important;
}

/* Details section: 3-column grid for perfect colon alignment */
.details {
  width: 85%;
  margin-top: 8px;
  padding-bottom: 8px;
  font-family: 'Poppins', sans-serif;
  font-size: 13px;
  line-height: 1.7;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Each row = [ label | ":" | value ] */
.detail-row {
  display: grid;
  grid-template-columns: 1.3fr 10px 1.6fr; /* tune the middle (colon) width if needed */
  align-items: center;
  gap: 6px;
}

/* Label: right-align to the colon */
.detail-row .label {
  text-align: right;
  color: #374151;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Colon: always centered in its own column */
.detail-row .colon {
  text-align: center;
  color: #374151;
}

/* Value: left-align from the colon outward */
.detail-row .value {
  text-align: left;
  color: #374151;
  font-style: oblique;
  letter-spacing: 0.02em;
  min-width: 0; /* allow ellipsis */
}
.detail-row .value > span {
  max-width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/****************************************************************/
/* ===== CR80 (53.98mm × 85.6mm), borderless, top-left, BOTH pages print ===== */
@page {
  size: 53.98mm 85.6mm; /* portrait CR80 */
  margin: 0;            /* require borderless in print dialog */
}

@media print {
  /* kill WP admin chrome & any left gutter */
  #wpadminbar, #adminmenuwrap, #adminmenuback, #screen-meta, #screen-meta-links,
  .update-nag, .notice, .wrap > h1, .wrap > .page-title-action,
  .idc-form, .idc-actions, .controls, .idc-toggle {
    display: none !important;
  }
  #wpwrap, #wpcontent, #wpbody, #wpbody-content, .wrap,
  html, body, .idc-preview {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    background: transparent !important;
    -webkit-print-color-adjust: exact !important;
  }
  
  /* 300 DPI settings */
  body { 
    image-resolution: 300dpi; 
    -webkit-image-resolution: 300dpi; 
  }
  img { 
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    max-width: none !important;
    height: auto !important;
    print-color-adjust: exact !important;
  }

  /* Each .sheet is a full page at true CR80 size, flowing in order */
  .idc-preview .sheet {
    display: block !important;
    position: relative !important;      /* NOT fixed — allows multiple pages */
    width: 53.98mm !important;
    height: 85.6mm !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    break-after: page;                   /* Page 1 = first sheet (Front), Page 2 = second (Back) */
  }

  /* Use the SAME look as preview */
  .idc-preview .id-card {
    position: absolute !important;
    inset: 0 !important;
    width: 100% !important;
    height: 100% !important;
    /* match preview exactly */
    background-image: var(--bg) !important;
    background-size: 100% 100% !important;   /* was cover */
    background-position: center !important;
    background-repeat: no-repeat !important;
    border-radius: 12px !important;          /* keep same radius as preview */
    box-shadow: none !important;             /* shadows usually look odd on print */
    overflow: hidden !important;
  }
}
